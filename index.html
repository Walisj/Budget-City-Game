<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Build Your Budget City</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: #eef4f8;
      padding: 20px;
    }
    h1 {
      font-size: 2em;
    }
    .building-option {
      display: inline-block;
      margin: 10px;
      background: white;
      border-radius: 10px;
      padding: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: transform 0.2s;
    }
    .building-option:hover {
      transform: scale(1.05);
    }
    .building-option img {
      width: 60px;
      height: 60px;
      object-fit: contain;
    }
    #cityView {
      background: url('https://i.imgur.com/upOHde0.png') center/cover no-repeat;
      width: 90%;
      height: 400px;
      margin: 20px auto;
      border-radius: 10px;
      position: relative;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
      padding: 10px;
    }
    .building-img {
      width: 70px;
      height: 70px;
      object-fit: contain;
      margin: 5px;
    }
    .result {
      font-weight: bold;
      font-size: 1.2em;
      margin-top: 15px;
    }
    button {
      padding: 10px 20px;
      margin: 10px 5px;
      font-size: 1em;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .done {
      background-color: #4caf50;
      color: white;
    }
    .clear {
      background-color: #f44336;
      color: white;
    }
    .lang-btn {
      position: absolute;
      top: 10px;
      right: 10px;
    }
  </style>
</head>
<body>

  <div class="lang-btn">
    <button onclick="setLanguage('en')">English</button>
    <button onclick="setLanguage('ms')">BM</button>
  </div>

  <h1 id="title">Build Your Budget City</h1>
  <p id="intro">You have RM100 million. Choose wisely to develop your city!</p>
  <div id="budget">Remaining Budget: RM100 million</div>

  <div id="buildingChoices"></div>

  <div id="cityView"></div>

  <button class="done" onclick="finishPlanning()">‚úÖ Done Planning</button>
  <button class="clear" onclick="resetPlanning()">üóëÔ∏è Clear My Choices</button>

  <div class="result" id="result"></div>

  <script>
    const buildings = [
      { name: { en: "School", ms: "Sekolah" }, cost: 30, img: "https://i.imgur.com/D55hAJ5.gif" },
      { name: { en: "Hospital", ms: "Hospital" }, cost: 40, img: "https://i.imgur.com/hFGTjUw.gif" },
      { name: { en: "Park", ms: "Taman" }, cost: 10, img: "https://i.imgur.com/aopODtG.png" },
      { name: { en: "Mall", ms: "Pusat Beli-Belah" }, cost: 35, img: "https://i.imgur.com/MbExT3H.png" },
      { name: { en: "Police Station", ms: "Balai Polis" }, cost: 20, img: "https://i.imgur.com/SWMbTes.png" },
      { name: { en: "Fire Station", ms: "Balai Bomba" }, cost: 25, img: "https://i.imgur.com/YKY1FXd.gif" },
      { name: { en: "Library", ms: "Perpustakaan" }, cost: 15, img: "https://i.imgur.com/iOMz7mW.gif" },
      { name: { en: "Playground", ms: "Taman Permainan" }, cost: 10, img: "https://i.imgur.com/uzmc9IE.gif" }
    ];

    let selectedBuildings = [];
    let budget = 100;
    let lang = 'en';

    function setLanguage(l) {
      lang = l;
      document.getElementById("title").innerText = l === 'en' ? "Build Your Budget City" : "Bina Bandar Bajet Anda";
      document.getElementById("intro").innerText = l === 'en'
        ? "You have RM100 million. Choose wisely to develop your city!"
        : "Anda ada RM100 juta. Pilih dengan bijak untuk bangunkan bandar anda!";
      document.getElementById("budget").innerText = l === 'en'
        ? `Remaining Budget: RM${budget} million`
        : `Baki Bajet: RM${budget} juta`;
      document.getElementById("result").innerText = "";
      renderBuildings();
    }

    function renderBuildings() {
      const container = document.getElementById("buildingChoices");
      container.innerHTML = "";
      buildings.forEach((b, i) => {
        const div = document.createElement("div");
        div.className = "building-option";
        div.innerHTML = `<img src="${b.img}" alt="${b.name[lang]}"/><div>${b.name[lang]}</div><div>RM${b.cost}M</div>`;
        div.onclick = () => addBuilding(i);
        container.appendChild(div);
      });
    }

    function addBuilding(index) {
      const b = buildings[index];
      if (budget < b.cost) {
        alert(lang === 'en' ? "Not enough budget :/" : "Bajet tidak mencukupi :/");
        return;
      }
      budget -= b.cost;
      selectedBuildings.push(b);

      const city = document.getElementById("cityView");
      const img = document.createElement("img");
      img.src = b.img;
      img.alt = b.name[lang];
      img.className = "building-img";
      city.appendChild(img);

      document.getElementById("budget").innerText = lang === 'en'
        ? `Remaining Budget: RM${budget} million`
        : `Baki Bajet: RM${budget} juta`;
    }

    function finishPlanning() {
      const spent = 100 - budget;
      let msg = "";
      if (budget < 0) {
        msg = lang === 'en'
          ? "You overspent! You fail as a Quantity Surveyor :("
          : "Anda terlebih bajet! Anda gagal sebagai Juruukur Bahan :(";
      } else if (budget <= 10) {
        msg = lang === 'en'
          ? `You spent RM${spent} million. Efficient planning :D`
          : `Anda telah membelanjakan RM${spent} juta. Perancangan yang cekap :D`;
      } else if (budget <= 30) {
        msg = lang === 'en'
          ? `You spent RM${spent} million. Great planning :)`
          : `Anda telah membelanjakan RM${spent} juta. Perancangan yang hebat :)`;
      } else {
        msg = lang === 'en'
          ? `You only used RM${spent} million. You could build more :O`
          : `Anda hanya menggunakan RM${spent} juta. Anda boleh bina lebih banyak :O`;
      }
      document.getElementById("result").innerText = msg;
    }

    function resetPlanning() {
      selectedBuildings = [];
      budget = 100;
      document.getElementById("result").innerText = "";
      document.getElementById("budget").innerText = lang === 'en'
        ? `Remaining Budget: RM${budget} million`
        : `Baki Bajet: RM${budget} juta`;
      document.getElementById("cityView").innerHTML = "";
    }

    // Initialize on load
    setLanguage('en');
  </script>

</body>
</html>
